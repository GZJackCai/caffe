
time, averaged over 10 runs per layer in GPU mode (K20).



first try at shmem (not handling conv1's long strides). (blocks x,y,f = 4,4,16)
    3/10/14.
    data forward: 39.577930 ms
    conv1 forward: 126.706152 ms
    relu1 forward: 0.839600 ms
    pool1 forward: 1.168164 ms
    norm1 forward: 0.729590 ms
    pad2 forward: 0.615820 ms
    conv2 forward: 527.965820 ms
    relu2 forward: 0.544043 ms
    pool2 forward: 0.854395 ms
    norm2 forward: 0.441602 ms
    pad3 forward: 0.385400 ms
    conv3 forward: 598.570557 ms
    relu3 forward: 0.195996 ms
    pad4 forward: 0.573389 ms
    conv4 forward: 456.846387 ms
    relu4 forward: 0.195996 ms
    pad5 forward: 0.572803 ms
    conv5 forward: 317.893408 ms
    relu5 forward: 0.133594 ms
    pool5 forward: 0.208203 ms
    fc6 forward: 4.544580 ms
    relu6 forward: 0.012842 ms
    drop6 forward: 0.044189 ms
    fc7 forward: 1.859766 ms
    relu7 forward: 0.012402 ms
    drop7 forward: 0.043018 ms
    fc8 forward: 0.671826 ms
    prob forward: 0.604639 ms
    accuracy forward: 0.048389 ms

simple low-mem conv (blocks x,y,f = 16,16,4)
  avg time per layer: 
    data forward: 31.313110 ms
    conv1 forward: 353.606299 ms
    relu1 forward: 0.004810 ms
    pool1 forward: 0.003320 ms
    norm1 forward: 0.007202 ms
    pad2 forward: 0.007812 ms
    conv2 forward: 405.088892 ms
    relu2 forward: 0.004321 ms
    pool2 forward: 0.003418 ms
    norm2 forward: 0.007007 ms
    pad3 forward: 0.007690 ms
    conv3 forward: 260.165112 ms
    relu3 forward: 0.003003 ms
    pad4 forward: 0.006323 ms
    conv4 forward: 196.114209 ms
    relu4 forward: 0.002979 ms
    pad5 forward: 0.006372 ms
    conv5 forward: 161.230420 ms
    relu5 forward: 0.003320 ms
    pool5 forward: 0.003296 ms
    fc6 forward: 0.008008 ms
    relu6 forward: 0.003906 ms
    drop6 forward: 0.008276 ms
    fc7 forward: 0.007788 ms
    relu7 forward: 0.002808 ms
    drop7 forward: 0.007300 ms
    fc8 forward: 0.007690 ms
    prob forward: 0.021289 ms
    accuracy forward: 8.061206 ms

simple low-mem conv (blocks x,y,f = 4,4,16)
  avg time per layer:
    data forward: 27.426221 ms
    conv1 forward: 289.285986 ms
    relu1 forward: 0.005762 ms
    pool1 forward: 0.003613 ms
    norm1 forward: 0.009570 ms
    pad2 forward: 0.010400 ms
    conv2 forward: 525.311816 ms
    relu2 forward: 0.006006 ms
    pool2 forward: 0.003809 ms
    norm2 forward: 0.006201 ms
    pad3 forward: 0.007568 ms
    conv3 forward: 374.672021 ms
    relu3 forward: 0.006396 ms
    pad4 forward: 0.007959 ms
    conv4 forward: 289.195020 ms
    relu4 forward: 0.003418 ms
    pad5 forward: 0.007568 ms
    conv5 forward: 231.270605 ms
    relu5 forward: 0.005859 ms
    pool5 forward: 0.003809 ms
    fc6 forward: 0.008154 ms
    relu6 forward: 0.003174 ms
    drop6 forward: 0.010986 ms
    fc7 forward: 0.006982 ms
    relu7 forward: 0.003467 ms
    drop7 forward: 0.008984 ms
    fc8 forward: 0.007227 ms
    prob forward: 0.027588 ms
    accuracy forward: 8.043408 ms

simple low-mem conv (blocks x,y,f = 4,4,32)
  avg time per layer: 
    data forward: 27.231836 ms
    conv1 forward: 290.113623 ms
    relu1 forward: 0.003760 ms
    pool1 forward: 0.003809 ms
    norm1 forward: 0.006396 ms
    pad2 forward: 0.007617 ms
    conv2 forward: 533.309229 ms
    relu2 forward: 0.005811 ms
    pool2 forward: 0.003857 ms
    norm2 forward: 0.006445 ms
    pad3 forward: 0.007764 ms
    conv3 forward: 379.135205 ms
    relu3 forward: 0.004199 ms
    pad4 forward: 0.008203 ms
    conv4 forward: 294.217676 ms
    relu4 forward: 0.005811 ms
    pad5 forward: 0.007764 ms
    conv5 forward: 277.580225 ms
    relu5 forward: 0.003418 ms
    pool5 forward: 0.003564 ms
    fc6 forward: 0.007178 ms
    relu6 forward: 0.002832 ms
    drop6 forward: 0.008203 ms
    fc7 forward: 0.007031 ms
    relu7 forward: 0.003027 ms
    drop7 forward: 0.006445 ms
    fc8 forward: 0.006982 ms
    prob forward: 0.021973 ms
    accuracy forward: 8.118945 ms

simple low-mem conv (blocks x,y,f = 2,2,32)
  avg time per layer: 
    data forward: 27.202979 ms
    conv1 forward: 400.588818 ms
    relu1 forward: 0.006006 ms
    pool1 forward: 0.003564 ms
    norm1 forward: 0.006543 ms
    pad2 forward: 0.007764 ms
    conv2 forward: 864.775000 ms
    relu2 forward: 0.004395 ms
    pool2 forward: 0.003760 ms
    norm2 forward: 0.006201 ms
    pad3 forward: 0.007764 ms
    conv3 forward: 599.725586 ms
    relu3 forward: 0.003418 ms
    pad4 forward: 0.007764 ms
    conv4 forward: 480.414844 ms
    relu4 forward: 0.003613 ms
    pad5 forward: 0.008008 ms
    conv5 forward: 307.149170 ms
    relu5 forward: 0.005957 ms
    pool5 forward: 0.003662 ms
    fc6 forward: 0.007764 ms
    relu6 forward: 0.003271 ms
    drop6 forward: 0.008398 ms
    fc7 forward: 0.007031 ms
    relu7 forward: 0.005420 ms
    drop7 forward: 0.006396 ms
    fc8 forward: 0.007031 ms
    prob forward: 0.026611 ms

stock BLAS conv (without cudaDeviceSynchronize)
  avg time per layer: 
    data forward: 35.655176 ms
    conv1 forward: 5.764526 ms
    relu1 forward: 0.109180 ms
    pool1 forward: 0.118213 ms
    norm1 forward: 0.240405 ms
    pad2 forward: 0.249390 ms
    conv2 forward: 27.039087 ms
    relu2 forward: 0.106616 ms
    pool2 forward: 0.136694 ms
    norm2 forward: 0.246997 ms
    pad3 forward: 0.246899 ms
    conv3 forward: 20.433521 ms
    relu3 forward: 0.118213 ms
    pad4 forward: 0.275513 ms
    conv4 forward: 24.337085 ms
    relu4 forward: 0.087891 ms
    pad5 forward: 0.213110 ms
    conv5 forward: 21.808496 ms
    relu5 forward: 0.087500 ms
    pool5 forward: 0.122778 ms
    fc6 forward: 0.212280 ms
    relu6 forward: 0.088306 ms
    drop6 forward: 0.211914 ms
    fc7 forward: 0.211987 ms
    relu7 forward: 0.123120 ms
    drop7 forward: 0.212891 ms
    fc8 forward: 0.213110 ms
    prob forward: 0.638184 ms
    accuracy forward: 16.779980 ms


stock BLAS conv (with cudaDeviceSynchronize after each BLAS call)
  avg time per layer: 
    data forward: 29.740308 ms
    conv1 forward: 18.515796 ms
    relu1 forward: 0.003003 ms
    pool1 forward: 0.003198 ms
    norm1 forward: 0.005713 ms
    pad2 forward: 0.006494 ms
    conv2 forward: 28.858496 ms
    relu2 forward: 0.003198 ms
    pool2 forward: 0.003271 ms
    norm2 forward: 0.006982 ms
    pad3 forward: 0.007812 ms
    conv3 forward: 22.395020 ms
    relu3 forward: 0.004224 ms
    pad4 forward: 0.007690 ms
    conv4 forward: 22.974878 ms
    relu4 forward: 0.004102 ms
    pad5 forward: 0.007715 ms
    conv5 forward: 22.870898 ms
    relu5 forward: 0.004199 ms
    pool5 forward: 0.003198 ms
    fc6 forward: 0.007886 ms
    relu6 forward: 0.003979 ms
    drop6 forward: 0.008081 ms
    fc7 forward: 0.007812 ms
    relu7 forward: 0.003906 ms
    drop7 forward: 0.007104 ms
    fc8 forward: 0.007593 ms
    prob forward: 0.022290 ms
    accuracy forward: 8.047510 ms

